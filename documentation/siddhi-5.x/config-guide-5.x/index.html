



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Cloud Native Stream Processor">
      
      
        <link rel="canonical" href="http://siddhi.io/documentation/siddhi-5.x/config-guide-5.x/">
      
      
        <meta name="author" content="WSO2">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.0.0">
    
    
      
        <title>Config Guide - Siddhi</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.982221ab.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="#009688">
      
    
    
      <script src="../../../assets/javascripts/modernizr.1f0bcf2b.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-103065-28", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="teal" data-md-color-accent="teal">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#siddhi-5x-config-guide" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http://siddhi.io" title="Siddhi" class="md-header-nav__button md-logo">
          
            <img src="../../../images/siddhi-logo-w.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Siddhi
            </span>
            <span class="md-header-nav__topic">
              Config Guide
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/siddhi-io/siddhi/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Siddhi
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="http://siddhi.io" title="Siddhi" class="md-nav__button md-logo">
      
        <img src="../../../images/siddhi-logo-w.svg" width="48" height="48">
      
    </a>
    Siddhi
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/siddhi-io/siddhi/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    Siddhi
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="Welcome to Siddhi" class="md-nav__link">
      Welcome to Siddhi
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../features/" title="Features" class="md-nav__link">
      Features
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../quckstart-5.x/" title="Quick Start Guide" class="md-nav__link">
      Quick Start Guide
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../download/" title="Download" class="md-nav__link">
      Download
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5" checked>
    
    <label class="md-nav__link" for="nav-5">
      Documentation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Documentation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-1" type="checkbox" id="nav-5-1" checked>
    
    <label class="md-nav__link" for="nav-5-1">
      Siddhi 5.x
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-1">
        Siddhi 5.x
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../quckstart-5.x/" title="Quick Start Guide" class="md-nav__link">
      Quick Start Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../user-guide-5.x/" title="User Guide" class="md-nav__link">
      User Guide
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Config Guide
      </label>
    
    <a href="./" title="Config Guide" class="md-nav__link md-nav__link--active">
      Config Guide
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configuring-datasources" title="Configuring Datasources" class="md-nav__link">
    Configuring Datasources
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-periodic-state-persistence" title="Configuring Periodic State Persistence" class="md-nav__link">
    Configuring Periodic State Persistence
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" title="Prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-database-system-persistence" title="Configuring Database System Persistence" class="md-nav__link">
    Configuring Database System Persistence
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-file-system-persistence" title="Configuring File System Persistence" class="md-nav__link">
    Configuring File System Persistence
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defining-and-configuring-siddhi-extensions-externally" title="Defining and Configuring Siddhi Extensions Externally" class="md-nav__link">
    Defining and Configuring Siddhi Extensions Externally
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#defining-sources-sinks-and-tables-externally" title="Defining Sources, Sinks and Tables Externally" class="md-nav__link">
    Defining Sources, Sinks and Tables Externally
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-siddhi-extensions-externally" title="Configuring Siddhi Extensions Externally" class="md-nav__link">
    Configuring Siddhi Extensions Externally
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-extensions-and-third-party-libraries" title="Adding Extensions and Third Party Libraries" class="md-nav__link">
    Adding Extensions and Third Party Libraries
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-to-siddhi-java-library" title="Adding to Siddhi Java library" class="md-nav__link">
    Adding to Siddhi Java library
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-to-siddhi-local-micro-service" title="Adding to Siddhi Local Micro Service" class="md-nav__link">
    Adding to Siddhi Local Micro Service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-to-siddhi-docker-micro-service" title="Adding to Siddhi Docker Micro Service" class="md-nav__link">
    Adding to Siddhi Docker Micro Service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-to-siddhi-kubernetes-micro-service" title="Adding to Siddhi Kubernetes Micro Service" class="md-nav__link">
    Adding to Siddhi Kubernetes Micro Service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#converting-third-party-non-osgi-libraries" title="Converting Third Party Non OSGi Libraries" class="md-nav__link">
    Converting Third Party Non OSGi Libraries
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../query-guide-5.x/" title="Siddhi Query Guide" class="md-nav__link">
      Siddhi Query Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../architecture-5.x/" title="Siddhi Architecture" class="md-nav__link">
      Siddhi Architecture
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2" type="checkbox" id="nav-5-2">
    
    <label class="md-nav__link" for="nav-5-2">
      Siddhi 4.x
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-2">
        Siddhi 4.x
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../siddhi-4.x/quckstart-4.x/" title="Quick Start Guide" class="md-nav__link">
      Quick Start Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../siddhi-4.x/user-guide-4.x/" title="User Guide" class="md-nav__link">
      User Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../siddhi-4.x/query-guide-4.x/" title="Siddhi Query Guide" class="md-nav__link">
      Siddhi Query Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../siddhi-4.x/architecture-4.x/" title="Siddhi Architecture" class="md-nav__link">
      Siddhi Architecture
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../contribution/" title="Contribute" class="md-nav__link">
      Contribute
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../extensions/" title="Extensions" class="md-nav__link">
      Extensions
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      API Docs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        API Docs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../../api/5.0.0/" title="5.0.0" class="md-nav__link">
      5.0.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../api/4.4.8/" title="4.4.8" class="md-nav__link">
      4.4.8
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../api/4.4.0/" title="4.4.0" class="md-nav__link">
      4.4.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../api/4.3.19/" title="4.3.19" class="md-nav__link">
      4.3.19
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../api/4.3.0/" title="4.3.0" class="md-nav__link">
      4.3.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../api/4.2.40/" title="4.2.40" class="md-nav__link">
      4.2.40
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../api/4.2.20/" title="4.2.20" class="md-nav__link">
      4.2.20
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../api/4.2.0/" title="4.2.0" class="md-nav__link">
      4.2.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../api/4.1.64/" title="4.1.64" class="md-nav__link">
      4.1.64
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../api/4.1.46/" title="4.1.46" class="md-nav__link">
      4.1.46
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../api/4.1.7/" title="4.1.7" class="md-nav__link">
      4.1.7
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../api/4.1.0/" title="4.1.0" class="md-nav__link">
      4.1.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../api/4.0.9/" title="4.0.9" class="md-nav__link">
      4.0.9
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../api/4.0.0/" title="4.0.0" class="md-nav__link">
      4.0.0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../../api/latest/" title="latest" class="md-nav__link">
      latest
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../season-of-docs-2019/" title="Google Season of Code 2019" class="md-nav__link">
      Google Season of Code 2019
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configuring-datasources" title="Configuring Datasources" class="md-nav__link">
    Configuring Datasources
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-periodic-state-persistence" title="Configuring Periodic State Persistence" class="md-nav__link">
    Configuring Periodic State Persistence
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" title="Prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-database-system-persistence" title="Configuring Database System Persistence" class="md-nav__link">
    Configuring Database System Persistence
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-file-system-persistence" title="Configuring File System Persistence" class="md-nav__link">
    Configuring File System Persistence
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#defining-and-configuring-siddhi-extensions-externally" title="Defining and Configuring Siddhi Extensions Externally" class="md-nav__link">
    Defining and Configuring Siddhi Extensions Externally
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#defining-sources-sinks-and-tables-externally" title="Defining Sources, Sinks and Tables Externally" class="md-nav__link">
    Defining Sources, Sinks and Tables Externally
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-siddhi-extensions-externally" title="Configuring Siddhi Extensions Externally" class="md-nav__link">
    Configuring Siddhi Extensions Externally
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-extensions-and-third-party-libraries" title="Adding Extensions and Third Party Libraries" class="md-nav__link">
    Adding Extensions and Third Party Libraries
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-to-siddhi-java-library" title="Adding to Siddhi Java library" class="md-nav__link">
    Adding to Siddhi Java library
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-to-siddhi-local-micro-service" title="Adding to Siddhi Local Micro Service" class="md-nav__link">
    Adding to Siddhi Local Micro Service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-to-siddhi-docker-micro-service" title="Adding to Siddhi Docker Micro Service" class="md-nav__link">
    Adding to Siddhi Docker Micro Service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-to-siddhi-kubernetes-micro-service" title="Adding to Siddhi Kubernetes Micro Service" class="md-nav__link">
    Adding to Siddhi Kubernetes Micro Service
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#converting-third-party-non-osgi-libraries" title="Converting Third Party Non OSGi Libraries" class="md-nav__link">
    Converting Third Party Non OSGi Libraries
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/siddhi-io/siddhi/edit/master/docs/documentation/siddhi-5.x/config-guide-5.x.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="siddhi-5x-config-guide">Siddhi 5.x Config Guide<a class="headerlink" href="#siddhi-5x-config-guide" title="Permanent link">&para;</a></h1>
<h2 id="configuring-datasources">Configuring Datasources<a class="headerlink" href="#configuring-datasources" title="Permanent link">&para;</a></h2>
<p>Siddhi Runner stores product-specific data in the H2 database located in the <code>&lt;SIDDHI_RUNNER_HOME&gt;/wso2/runner/database</code> directory by default.</p>

<p></p>This embedded H2 database is suitable for development, testing, and for some production environments. For most production environments, 
however, we recommend you to use an industry-standard RDBMS such as Oracle, PostgreSQL, MySQL, MS SQL. Most table schemas are self generated by the feature itself. 
For others, you can use the scripts provided with Siddhi Runner (in the <code>&lt;SIDDHI_RUNNER_HOME&gt;/wso2/runner/dbscripts</code> directory) to install and configure databases, 
including Oracle, PostgreSQL, MySQL and MS SQL. </p></p>
<p>The datasources are defined in the <code>&lt;SIDDHI_RUNNER_HOME&gt;/conf/runner/deployment.yaml</code> file.</p>

<div class="admonition note">
<p class="admonition-title">Including database drivers.</p>
<p>You need to include the database driver corresponding to the database in the <code>&lt;SIDDHI_RUNNER_HOME&gt;/lib/</code> directory for Siddhi to communicate with the database.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Converting Non OSGI drivers.</p>
<p>If the database driver is not an OSGI bundle, then it should be converted to OSGI. Please refer <a href="http://siddhi.io/documentation/siddhi-5.x/config-guide-5.x/#adding-third-party-non-osgi-libraries">Adding Third Party Non OSGi Libraries</a> documentation.</p>
</div>
<p>Below are the sample datasource configuration for each database type supported:</p>

<ul>
<li> MySQL </li>
  <script src="https://gist.github.com/pcnfernando/5911341d74f36a3f99252cc859a7f836.js"></script>

<li> Oracle </li>
<p>There are two ways to configure this database type. If you have a System Identifier (SID), use this (older) format:</p>

<div class="codehilite"><pre><span></span>jdbc:oracle:thin:@[HOST][:PORT]:SID
</pre></div>


   <script src="https://gist.github.com/pcnfernando/c32d6b0d12c49dfe2ea91100db9c728c.js"></script>

<p>If you have an Oracle service name, use this (newer) format:</p>

<div class="codehilite"><pre><span></span>jdbc:oracle:thin:@//[HOST][:PORT]/SERVICE
</pre></div>


<script src="https://gist.github.com/pcnfernando/35e7f82f9aceed3cb28531ac8e36699c.js"></script>

<li> PostgreSQL </li>
<script src="https://gist.github.com/pcnfernando/a48ce3c0422cd5db5657758e85f4bc9f.js"></script>

<li> MsSQL </li>
</ul>

<script src="https://gist.github.com/pcnfernando/b095e794ad753e11ca58b2a5bafe080e.js"></script>

<h2 id="configuring-periodic-state-persistence">Configuring Periodic State Persistence<a class="headerlink" href="#configuring-periodic-state-persistence" title="Permanent link">&para;</a></h2>
<p>This section explains how to prevent the loss of data that can result from a system failure by persisting the state of 
Siddhi periodically either into a database system or into the file system.</p>
<h3 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h3>
<p>Before configuring database persistence, the following prerequisites must be completed.</p>
<ul>
<li>One or more Siddhi Applications must be running in Siddhi Runner.</li>
<li>A working RDBMS instance that can be used for data persistence must exist.</li>
<li>The requirements of the datasource must be already defined.</li>
<li>Database persistence involves updating the databases connected to Siddhi Runner with the latest information relating to the events that are being processed by Siddhi at a given time.</li>
</ul>
<h3 id="configuring-database-system-persistence">Configuring Database System Persistence<a class="headerlink" href="#configuring-database-system-persistence" title="Permanent link">&para;</a></h3>
<p><p>The supported databases are H2, MySQL, PostgreSQL, MSSQL and Oracle. The relevant jdbc driver jar should be downloaded and added to the <code>&lt;SIDDHI_RUNNER_HOME&gt;/lib</code> directory to prior to using database system persistence.</p>
<p>To configure periodic data persistence, update the <code>&lt;SIDDHI_RUNNER_HOME&gt;/conf/worker/deployment.yaml</code> file under <code>state.persistence</code> <span style="font-family: monospace;"> </span>as follows:</p></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Purpose</th>
<th>Required Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>enabled</td>
<td>This enables data persistence.</td>
<td>true</td>
</tr>
<tr>
<td>intervalInMin</td>
<td>The time interval in minutes that defines the interval in which state of Siddhi applications should be persisted</td>
<td>1</td>
</tr>
<tr>
<td>revisionsToKeep</td>
<td>The number of revisions to keep in the system. When a new persist takes place, the old revisions are removed.</td>
<td>3</td>
</tr>
<tr>
<td>persistenceStore</td>
<td>The persistence store</td>
<td>io.siddhi.distribution.core.persistence.DBPersistenceStore</td>
</tr>
<tr>
<td>config &gt; datasource</td>
<td>The datasource to be used in persisting the state. The provided datasource should be properly defined in the deployment.yaml. For detailed instructions of how to configure a datasource, see <a href="###Configuring Datasources">Configuring Datasources</a>.</td>
<td>SIDDHI_PERSISTENCE_DB (Datasource with this name should be defined in wso2.datasources)</td>
</tr>
<tr>
<td>config &gt; table</td>
<td>The table that should be created and used for the persisting of the state.</td>
<td>PERSISTENCE_TABLE</td>
</tr>
</tbody>
</table>
<p> The following is a sample segment of the required configurations in the <code>&lt;SIDDHI_RUNNER_HOME&gt;/conf/runner/deployment.yaml</code> file to configure file system persistence.</p>

<script src="https://gist.github.com/pcnfernando/7b94df53248fb626867bd7b64019a109.js"></script>

<h3 id="configuring-file-system-persistence">Configuring File System Persistence<a class="headerlink" href="#configuring-file-system-persistence" title="Permanent link">&para;</a></h3>
<p><p>This section explains how to persist the states of Siddhi applications during a required time interval in the file system in order to maintain back-ups. To configure state persistence, update the <code>&lt;SIDDHI_RUNNER_HOME&gt;/conf/runner/deployment.yaml</code> file under <code>state.persistence</code> <span> </span>as follows:</p></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Purpose</th>
<th>Required Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>enabled</td>
<td>This enables data persistence.</td>
<td>true</td>
</tr>
<tr>
<td>intervalInMin</td>
<td>The time interval in minutes that defines the interval in which state of Siddhi applications should be persisted</td>
<td>1</td>
</tr>
<tr>
<td>revisionsToKeep</td>
<td>The number of revisions to keep in the system. When a new persist takes place, the old revisions are removed.</td>
<td>3</td>
</tr>
<tr>
<td>persistenceStore</td>
<td>The persistence store</td>
<td>io.siddhi.distribution.core.persistence.FileSystemPersistenceStore</td>
</tr>
<tr>
<td>config &gt; location</td>
<td>A fully qualified folder location to where the revision files should be persisted.</td>
<td>siddhi-app-persistence</td>
</tr>
</tbody>
</table>
<p>The following is a sample segment of the required configurations in the <code>&lt;SIDDHI_RUNNER_HOME&gt;/conf/runner/deployment.yaml</code> file to configure file system persistence.</p>

<script src="https://gist.github.com/pcnfernando/19f1879b86bd96a25762e2cadf8ae407.js"></script>

<h2 id="defining-and-configuring-siddhi-extensions-externally">Defining and Configuring Siddhi Extensions Externally<a class="headerlink" href="#defining-and-configuring-siddhi-extensions-externally" title="Permanent link">&para;</a></h2>
<p>Siddhi extensions cater usecase specific logics that are not out of the box available in Siddhi Streaming engine. 
You can define and configure these extensions in-line within the Siddhi application or externally in Siddhi Runner configuration file. </p>

<h3 id="defining-sources-sinks-and-tables-externally">Defining Sources, Sinks and Tables Externally<a class="headerlink" href="#defining-sources-sinks-and-tables-externally" title="Permanent link">&para;</a></h3>
<p> A source, sink or a table could be defined externally, and referred from several siddhi applications as described below.</p>

<p>Multiple sources can be defined in the <code>&lt;SIDDHI_RUNNER_HOME&gt;/conf/runner/deployment.yaml</code> file. </p>

<p>The following is a sample configuration of a source.</p>

<script src="https://gist.github.com/pcnfernando/323f593b9ae1e814cedc880892cdf26f.js"></script>

<p>You can refer to a source configured in the <code>&lt;SIDDHI_RUNNER_HOME&gt;/conf/runner/deployment.yaml</code> file from a Siddhi application as shown in the example below.</p>

<div class="codehilite"><pre><span></span>@Source(ref=&#39;source1&#39;, basic.auth.enabled=&#39;false&#39;,
        @map(type=&#39;json&#39;, @attributes( name=&#39;$.name&#39;, amount=&#39;$.quantity&#39;)))
define stream SweetProductionStream (name string, amount double);
</pre></div>


<p>For detailed instructions to configure a source, see <a href="http://siddhi-io.github.io/siddhi/documentation/siddhi-5.x/query-guide-5.x/#source">Siddhi Guide - Source</a></p>
<h3 id="configuring-siddhi-extensions-externally">Configuring Siddhi Extensions Externally<a class="headerlink" href="#configuring-siddhi-extensions-externally" title="Permanent link">&para;</a></h3>
<p>The pre-written Siddhi extensions supported by Siddhi Runner are configured with default values for system parameters. 
If you need to override those values, you can refer to those extensions from the <code>&lt;SIDDHI_RUNNER_HOME&gt;/conf/runner/deployment.yaml</code> file and 
add the system parameters with the required values as key-value pairs. </p>

<p>The following is a sample configuration of an extension.</p>

<script src="https://gist.github.com/pcnfernando/52f8720842bd5feca1481e1b5266b853.js"></script>

<p>For each separate extension you want to configure, add a sub-section named extension under the extensions subsection.</p>

<p>Following are examples for overriding default values for system properties.</p>

<p>Example 1: Defining host and port for TCP</p>

<div class="codehilite"><pre><span></span>siddhi:
  extensions:
    - extension:
        name: tcp
        namespace: source
        properties:
          host: 0.0.0.0
          port: 5511
</pre></div>


<p>Example 2: Overwriting the default RDBMS configuration</p>

<div class="codehilite"><pre><span></span>siddhi:
  extensions:
    - extension:
        name: rdbms
        namespace: store
        properties:
          mysql.batchEnable: true
          mysql.batchSize: 1000
          mysql.indexCreateQuery: &quot;CREATE INDEX {{TABLE_NAME}}_INDEX ON {{TABLE_NAME}} ({{INDEX_COLUMNS}})&quot;
          mysql.recordDeleteQuery: &quot;DELETE FROM {{TABLE_NAME}} {{CONDITION}}&quot;
          mysql.recordExistsQuery: &quot;SELECT 1 FROM {{TABLE_NAME}} {{CONDITION}} LIMIT 1&quot;
</pre></div>


<h2 id="adding-extensions-and-third-party-libraries">Adding Extensions and Third Party Libraries<a class="headerlink" href="#adding-extensions-and-third-party-libraries" title="Permanent link">&para;</a></h2>
<p> The Siddhi extensions supported for Siddhi Runner are shipped with Siddhi Runner by default. 
If you need to download and install a different version of an extension or add an external dependency, 
follow the sections below broken down based on various environments. </p>

<h3 id="adding-to-siddhi-java-library">Adding to Siddhi Java library<a class="headerlink" href="#adding-to-siddhi-java-library" title="Permanent link">&para;</a></h3>
<p>You can add Siddhi extension jars and third-party libraries as dependencies when using Siddhi as a Java library.</p>

<p>Following is a sample <code>pom.xml</code> dependency snippet which includes Siddhi mandatory dependencies and <code>siddhi-io-http</code> extension.</p>

<div class="codehilite"><pre><span></span><span class="c">&lt;!--Siddhi Mandatory Dependencies--&gt;</span>
 <span class="nt">&lt;dependency&gt;</span>
     <span class="nt">&lt;groupId&gt;</span>io.siddhi<span class="nt">&lt;/groupId&gt;</span>
     <span class="nt">&lt;artifactId&gt;</span>siddhi-core<span class="nt">&lt;/artifactId&gt;</span>
     <span class="nt">&lt;version&gt;</span>5.x.x<span class="nt">&lt;/version&gt;</span>
   <span class="nt">&lt;/dependency&gt;</span>
   <span class="nt">&lt;dependency&gt;</span>
     <span class="nt">&lt;groupId&gt;</span>io.siddhi<span class="nt">&lt;/groupId&gt;</span>
     <span class="nt">&lt;artifactId&gt;</span>siddhi-query-api<span class="nt">&lt;/artifactId&gt;</span>
     <span class="nt">&lt;version&gt;</span>5.x.x<span class="nt">&lt;/version&gt;</span>
   <span class="nt">&lt;/dependency&gt;</span>
   <span class="nt">&lt;dependency&gt;</span>
     <span class="nt">&lt;groupId&gt;</span>io.siddhi<span class="nt">&lt;/groupId&gt;</span>
     <span class="nt">&lt;artifactId&gt;</span>siddhi-query-compiler<span class="nt">&lt;/artifactId&gt;</span>
     <span class="nt">&lt;version&gt;</span>5.x.x<span class="nt">&lt;/version&gt;</span>
   <span class="nt">&lt;/dependency&gt;</span>
   <span class="nt">&lt;dependency&gt;</span>
     <span class="nt">&lt;groupId&gt;</span>io.siddhi<span class="nt">&lt;/groupId&gt;</span>
     <span class="nt">&lt;artifactId&gt;</span>siddhi-annotations<span class="nt">&lt;/artifactId&gt;</span>
     <span class="nt">&lt;version&gt;</span>5.x.x<span class="nt">&lt;/version&gt;</span>
   <span class="nt">&lt;/dependency&gt;</span>
   <span class="nt">&lt;dependency&gt;</span>
     <span class="nt">&lt;groupId&gt;</span>io.siddhi<span class="nt">&lt;/groupId&gt;</span>
     <span class="nt">&lt;artifactId&gt;</span>siddhi-annotations<span class="nt">&lt;/artifactId&gt;</span>
     <span class="nt">&lt;version&gt;</span>5.x.x<span class="nt">&lt;/version&gt;</span>
   <span class="nt">&lt;/dependency&gt;</span>

<span class="c">&lt;!--Extension Dependencies--&gt;</span>
   <span class="nt">&lt;dependency&gt;</span>
     <span class="nt">&lt;groupId&gt;</span>org.wso2.extension.siddhi.io.http<span class="nt">&lt;/groupId&gt;</span>
     <span class="nt">&lt;artifactId&gt;</span>siddhi-io-http<span class="nt">&lt;/artifactId&gt;</span>
     <span class="nt">&lt;version&gt;</span>${siddhi.io.http.version}<span class="nt">&lt;/version&gt;</span>
   <span class="nt">&lt;/dependency&gt;</span>   
</pre></div>


<p>You can find a quick start guide in <a href="https://siddhi-io.github.io/siddhi/documentation/siddhi-5.x/user-guide-5.x/#using-siddhi-as-a-java-library">Using Siddhi as a library</a> documentation.</p>
<h3 id="adding-to-siddhi-local-micro-service">Adding to Siddhi Local Micro Service<a class="headerlink" href="#adding-to-siddhi-local-micro-service" title="Permanent link">&para;</a></h3>
<p><p>You can install the Siddhi extensions and third-party dependencies in your Siddhi Runner local pack by placing the JARs you downloaded in the <code>&lt;SIDDHI_RUNNER_HOME&gt;/lib</code> directory.</p>
<p>Since Siddhi Runner is a OSGi-based product, when you integrate third party products such as Oracle with Siddhi Runner, you need to check whether the libraries you need to add to Siddhi Runner are OSGi based. If they are not, you need to convert them to OSGi bundles before adding them to the <code>&lt;SIDDHI_RUNNER_HOME&gt;/lib</code> directory.</p>

<p>Please refer <a href="http://siddhi.io/documentation/siddhi-5.x/config-guide-5.x/#converting-third-party-non-osgi-libraries">Converting Third Party Non OSGi Libraries</a> documentation.</p>
<h3 id="adding-to-siddhi-docker-micro-service">Adding to Siddhi Docker Micro Service<a class="headerlink" href="#adding-to-siddhi-docker-micro-service" title="Permanent link">&para;</a></h3>
<p>You have to manually build a docker image using the below docker file bundling the needed extensions and third-party libraries.</p>

<script src="https://gist.github.com/pcnfernando/09d3af8f958c464425a892efabac2d98.js"></script>

<p>Here, we use the siddhi-runner-base-alpine as the base image while creating the image. The parent/base image bundles the Alpine Linux OS, JDK and the Siddhi distribution.
You can find the Siddhi Runner docker build artifacts in <a href="https://github.com/siddhi-io/docker-siddhi/tree/master/docker-files/siddhi-runner">docker-siddhi repository</a>.</p>
<p>Copy the needed OSGIfied JARs and extensions to the ${BUNDLE_JAR_DIR} as defined in the above docker file, so that it would be bundled during the building phase to the docker image.
Please refer <a href="http://siddhi.io/documentation/siddhi-5.x/config-guide-5.x/#converting-third-party-non-osgi-libraries">Converting Third Party Non OSGi Libraries</a> documentation to convert non OSGI bundles before bundling it to the image.</p>
<p>You can find a quick start guide in <a href="https://siddhi-io.github.io/siddhi/documentation/siddhi-5.x/user-guide-5.x/#using-siddhi-as-a-docker-micro-service">Using Siddhi as a Docker microservice</a> documentation.</p>
<h3 id="adding-to-siddhi-kubernetes-micro-service">Adding to Siddhi Kubernetes Micro Service<a class="headerlink" href="#adding-to-siddhi-kubernetes-micro-service" title="Permanent link">&para;</a></h3>
<p>To use a Siddhi Runner distribution bundled with extensions and third party libraries, you have to first create a docker image following the steps described in <a href="https://siddhi-io.github.io/siddhi/documentation/siddhi-5.x/config-guide-5.x/#adding-to-docker-micro-service">Adding to Docker Micro Service</a> documentation.
This created image can be referenced from the Siddhi Kubernetes artifacts thereafter.</p>
<p>You can find a quick start guide in <a href="https://siddhi-io.github.io/siddhi/documentation/siddhi-5.x/user-guide-5.x/#using-siddhi-as-kubernetes-micro-service">Using Siddhi as Kubernetes microservice</a> documentation.</p>
<h3 id="converting-third-party-non-osgi-libraries">Converting Third Party Non OSGi Libraries<a class="headerlink" href="#converting-third-party-non-osgi-libraries" title="Permanent link">&para;</a></h3>
<p>To convert jar files to OSGi bundles, follow the procedure given below:</p>

<ol>
<li>
Download the non-OSGi jar for the required third party product, and save it in a preferred directory in your machine.
</li>
<li>
In your CLI, navigate to the <code>&lt;SIDDHI_RUNNER_HOME&gt;/bin</code> directory. Then issue the following command.

<div class="codehilite"><pre><span></span>./jartobundle.sh &lt;PATH_TO_NON-OSGi_JAR&gt; ../lib
</pre></div>



This generates the converted file in the <code>&lt;SIDDHI_RUNNER_HOME&gt;/lib</code> directory.
</li>
<li>
Restart the Siddhi Runner.
</li>
</ol>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../user-guide-5.x/" title="User Guide" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                User Guide
              </span>
            </div>
          </a>
        
        
          <a href="../query-guide-5.x/" title="Siddhi Query Guide" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Siddhi Query Guide
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2011 - 2019 WSO2
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/siddhi-io/siddhi" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://www.linkedin.com/groups/13553064" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.59145f40.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script>
      
    
  </body>
</html>